<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="/vendors/unpkg.com_@babel_polyfill@7.6.0_dist_polyfill.min.js"></script>
    <script src="/vendors/babel.js"></script>
    <script src="/babel-plugin/cjs2amd.js"></script>
    <script src="/babel-plugin/removeWebpackApi.js"></script>
    <script src="/babel-plugin/addPrefix.js"></script>

    <script src="/vendors/require2.js"></script>
    <script src="/vendors/require1.js"></script>

    <script>
        // webpack的一些需要
        var process = {
            env: {
                NODE_ENV: 'dev'
            }
        }
    </script>

    <script>

        Babel.registerPreset("env-plus", {
            presets: [
                [Babel.availablePresets["env"], { loose: false, modules: "amd" }],
                [Babel.availablePresets["react"]],
                [Babel.availablePresets["typescript"], { isTSX: true, allExtensions: true }],
            ]
        });
    </script>
    <script>
        function lolizer() {
            return {
                visitor: {
                    Identifier(path) {
                        if (path.node.name === 'one') {
                            debugger
                        }
                    },
                },
            };
        }
        Babel.registerPlugin("lolizer", lolizer);
        var input = `
        var one='xx'
        function scopeOne() {
            
            function scopeTwo() {
                
                console.log(one);
            }
        }`;
        var output = Babel.transform(input, { plugins: ["lolizer"] }).code;

    </script>

</head>

<body>
    <div id="app"></div>
</body>

</html>